# prompt

generate by gemini

既然决定先深耕 **Web 端**，你的核心优势就是“即点即用”和“跨平台（手机/iPad/Mac 都能跑）”。

Web 端体感小游戏要做到“孩子爱玩、家长省心”，需要解决**识别稳定性、空间适应性、关卡趣味性**三个维度的需求。以下是详细的需求清单：

---

## 一、 核心技术需求（底层支撑）

### 1. 环境自适应与校准

* **镜像切换：** 默认开启镜像模式。手机投屏到电视时，孩子左手动，电视画面左侧也要动。
* **距离自适应映射：** * **动态原点：** 不要使用绝对坐标，应以双肩中点为参考原点，根据双肩宽度动态计算缩放比例（解决孩子站得远近导致的操作灵敏度问题）。
* **安全区检测：** 实时检测“全身”是否在画面内，若脚部或头部缺失，在屏幕边缘显示红色警告。


* **帧率锁定与平滑：**
* 利用  算法对 MediaPipe 输出的 33 个关键点坐标进行平滑处理，消除骨架跳变。
* 针对移动端浏览器性能，将推理频率控制在 ，但渲染逻辑保持  以确保视觉流畅。


### 2. 交互判定逻辑

* **碰撞检测机制：** 虚拟物体（如颜色块）与手掌/足部关键点的碰撞判定（基于坐标距离阈值）。
* **悬停确认（Hover）：** 考虑到孩子可能没有“点击”动作，设计“悬停 2 秒”即视为选中的交互逻辑。

---

## 二、 游戏关卡需求（MVP + 扩展）

### 1. 关卡一：色彩大作战 (MVP 增强版)

* **核心逻辑：** 语音播报“红色！”，屏幕四周随机掉落/出现不同颜色的气球。
* **反馈：** 拍碎气球时触发粒子特效（五彩纸屑）和清脆的声音反馈。
* **进度：** 连续捕捉 5 个正确颜色后进入“狂欢时间”（全屏掉落金币）。

### 2. 关卡二：障碍躲避（全身运动）

* **核心逻辑：** 屏幕左右两侧飞来横木或火球。
* **动作：** 孩子需要向左/向右跨步躲避，或者深蹲躲开高处障碍。
* **目的：** 增加横向移动和深蹲动作，消耗体力。

### 3. 关卡三：姿势临摹（趣味挑战）

* **核心逻辑：** 屏幕中间出现一个卡通动物的剪影（如：学螃蟹走路、学大象扇耳朵）。
* **判定：** 匹配度达到 80% 即可解锁下一关。

---

## 三、 功能性与 UI 需求（易用性）

### 1. 引导流程

* **“站位引导”：** 游戏开始前，屏幕出现一个人形虚线框，孩子必须填满虚线框才能激活“Start”。
* **无感 UI：** 所有的按钮（开始、重新玩、退出）都要做成巨大的色块，方便通过肢体碰撞来触发，彻底脱离鼠标键盘。

### 2. 投屏优化模式

* **UI 分离：** 手机端可以显示一个“控制器”界面（大大的开始键），电视端只负责展示游戏主画面。
* **低功耗设置：** 提供“降低画质”选项，防止长时间运行导致手机发烫严重。

---

## 四、 家长控制与数据（痛点解决）

* **运动计时：** 记录孩子本次玩了多久，防止用眼过度（每 15 分钟强制弹出“眼睛休息”界面）。
* **关卡自定义：** 家长可以输入今天想要孩子复习的单词颜色（比如把“Red”改成“Apple”）。

---

## 五、 推荐技术栈 (Web)

| 模块 | 推荐方案 | 理由 |
| --- | --- | --- |
| **框架** | Vue 3 + Vite | 开发效率高，HMR 快 |
| **视觉算法** | `@mediapipe/pose` | 全身识别最成熟的方案 |
| **画布渲染** | `Canvas 2D` 或 `PixiJS` | 处理精灵图和简单动画效率极高 |
| **状态管理** | Pinia | 管理关卡状态、得分等全局数据 |
| **声音/语音** | `Web Speech API` | 无需后端，直接调用浏览器合成语音 |

---

## 🚀 您可以尝试的第一个进阶优化

在目前的“寻找颜色”基础上，可以增加一个 **"肢体轨迹延迟特效"**（Ghost Effect）。当孩子快速挥动手臂时，屏幕上留下彩虹色的拖影，这能极大提高视觉反馈的愉悦感。

**需要我为您提供一段关于“如何根据 MediaPipe 关键点计算自适应缩放坐标”的算法逻辑吗？**（这能解决手机屏幕小、电视屏幕大带来的操控偏差）



2

增加手势使用教程，要求多种手势，并且识别成功之后，进入下一个手势识别
手势识别在运行完一次之后，可以选择跳过



3
有的电脑，没有摄像头，这种情况下我能用鼠标动作代替摄像头捕捉稍微体验一下吗？ 要单独增加一个体验按钮


